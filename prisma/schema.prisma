// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// for dev: add DATABASE_URL in the .env file
// for dev: See the format of mysql URL: https://www.prisma.io/docs/orm/overview/databases/mysql

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model User{
  id            Int           @id @default(autoincrement())
  username      String        @unique
  password      String
  reg_time      DateTime
  role          Role
  userDetail    UserDetail?
  session       Session?
  hurtForms     HurtForm[]
  weekForms     WeekForm[]
  yearForms     YearForm[]
  
}
model UserDetail{
  user              User          @relation(fields: [user_id], references: [id])
  user_id           Int           @id
  gender            Gender?
  birthday          DateTime?
  age               Int?
  medical_History   String?
  headshot          Bytes?        @db.Blob
  address           String?
  emall             String?
  phone             String?
  update_time       DateTime?
}

model Session{
  user            User      @relation(fields: [user_id], references: [id])
  user_id         Int       @id
  token           String
  expired_time    DateTime
}
model HurtForm{
  id              Int       @id @default(autoincrement())
  user            User      @relation(fields: [user_id], references: [id])
  user_id         Int
  fill_time       DateTime
  head            Int
  left_shoulder   Int
  right_shoulder  Int
  left_arm        Int
  right_arm       Int
  left_wrist      Int
  right_wrist     Int
  left_hand       Int
  right_hand      Int
  left_chest      Int
  right_chest     Int
  left_belley     Int
  right_belley    Int
  upper_back      Int
  lower_back      Int
  left_thigh      Int
  right_thigh     Int
  left_hip        Int
  right_hip       Int
  left_knee       Int
  right_knee      Int
  left_ankle      Int
  right_ankle     Int
  left_foot       Int
  right_foot      Int
}

model YearForm{
  id              Int       @id
  user            User      @relation(fields: [user_id], references: [id])
  user_id         Int
  fill_time       DateTime
  head            Boolean
  left_shoulder   Boolean
  right_shoulder  Boolean
  left_arm        Boolean
  right_arm       Boolean
  left_wrist      Boolean
  right_wrist     Boolean
  left_hand       Boolean
  right_hand      Boolean
  left_chest      Boolean
  right_chest     Boolean
  left_belley     Boolean
  right_belley    Boolean
  upper_back      Boolean
  lower_back      Boolean
  left_thigh      Boolean
  right_thigh     Boolean
  left_hip        Boolean
  right_hip       Boolean
  left_knee       Boolean
  right_knee      Boolean
  left_ankle      Boolean
  right_ankle     Boolean
  left_foot       Boolean
  right_foot      Boolean
}

model WeekForm{
  id              Int     @id
  user            User    @relation(fields: [user_id], references: [id])
  user_id         Int
  fill_time       DateTime
  head            Boolean
  left_shoulder   Boolean
  right_shoulder  Boolean
  left_arm        Boolean
  right_arm       Boolean
  left_wrist      Boolean
  right_wrist     Boolean
  left_hand       Boolean
  right_hand      Boolean
  left_chest      Boolean
  right_chest     Boolean
  left_belley     Boolean
  right_belley    Boolean
  upper_back      Boolean
  lower_back      Boolean
  left_thigh      Boolean
  right_thigh     Boolean
  left_hip        Boolean
  right_hip       Boolean
  left_knee       Boolean
  right_knee      Boolean
  left_ankle      Boolean
  right_ankle     Boolean
  left_foot       Boolean
  right_foot      Boolean
}

enum Gender{
  MALE
  FEMALE
}

enum Role{
  USER
  ADMIN
}